@page "/Cliente"
@using ClientApp.Components
@using SharedModels
@inject NavigationManager NavigationManager

<PageTitle>Cliente</PageTitle>

<div class="row justify-content-between align-items-center">
  <div class="col-auto">
    <div class="row align-items-center">
      <div class="col-auto">
        <button class="btn btn-link" @onclick="NavigateToList" style="border-radius: 20px;">
          <i class="material-icons">arrow_back</i>
        </button> 
      </div>
      <div class="col-auto">
        <h1>Novo Cliente</h1>
      </div>
    </div>
  </div>
  <div class="col-auto">
    <button class="btn btn-primary d-flex align-items-center" style="border-radius: 20px;">
      <span class="d-none d-sm-inline me-2">Salvar </span>
      <i class="material-icons">save</i>
    </button>
  </div>
</div>

<form class="row mt-1 g-3">
  <div class="col-12">
    <label for="inputNome" class="form-label">Nome</label>
    <input type="text" class="form-control" id="inputNome">
  </div>
  <div class="col-md-6">
    <label for="inputCnpj" class="form-label">CNPJ</label>
    <input type="cnpj" class="form-control" id="inputCnpj">
  </div>
  <div class="col-md-6">
    <label for="inputDataFundacao" class="form-label">Data da Fundação</label>
    <input type="date" class="form-control" id="inputDataFundacao">
  </div>
  <div class="col-12">
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Ativo</label>
    </div>
  </div>
  @if (contatos.Any()) {
    <div class="col-12">
      <ListaContatos contatos="contatos"/>
    </div>
  }
</form>

@code {
  [Parameter]
  // public string Data { get; set; }
  public ClienteDto Cliente { get; set; }

  public ICollection<ContatoDto> contatos { get; set; }
  
  void NavigateToList() {
    NavigationManager.NavigateTo("/Clientes");
  }
  @*
  protected override void OnParametersSet() {
    if (!string.IsNullOrEmpty(Data)) {
      var json = Uri.UnescapeDataString(Data);
      Cliente = System.Text.Json.JsonSerializer.Deserialize<ClienteDto>(json);
    } else {
      Cliente = new ClienteDto()
    }
  }*@
}